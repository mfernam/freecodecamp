<html>
<head>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">  
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Garamond">
<link rel="stylesheet" type="text/css" href="wikipedia_viewer.css">  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
<!--<script src="./wikipedia_viewer.js" type="text/javascript"></script>-->
  <script type="text/javascript">
    var randomURL = "https://en.wikipedia.org/wiki/Special:Random";
$('#random').click(function(){
    window.open(randomURL);    
});
$('#wText').keypress(function(e) {
    if(e.which == 13) {
      $('#result').html("");
      searchEntry($('#wText').val());
    }
});
function searchEntry(textSearch){
if(textSearch != null){
var searchURL = 'https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch='+textSearch+'&inprop=url&callback=?';
$.ajax({
    url: searchURL,
    dataType: "jsonp",
    success: function(data) {
      $.each(data.query.pages,function(k,v){
           $("#result").append("<a href='https://en.wikipedia.org/?curid="+v.pageid+"' target='_blank' class='list-group-item result'><h2>"+v.title+"</h2><br><p>"+v.extract+"</p></a>");
      }); 
    }
  });
  } 
}</script>
</head>
<body>
<div class="container-fluid text-center">
  <div>
    <h1>Wikipedia viewer</h1>
  </div>
  </div>
<div class="row container-fluid">
  <div class="col-xs-6 col-sm-4"></div>
  <div class="col-xs-6 col-sm-4"><input type="text" class="form-control" id="wText" placeholder='Write wiki entry and press "Enter"'/></div>
  <div class="col-xs-6 col-sm-4"></div>
</div><br>
<div class="container-fluid text-center">
  <div>
    <p>
  <button type="button" class="btn btn-primary btn-lg" id="random">Random Wikipedia entry</button>
</p>
  </div>
  </div>
<div class="row container-fluid">
  <div class="col-xs-6 col-sm-3"></div>
  <div class="col-xs-6 col-sm-6">
  <div class="list-group " id="result">    
  </div>
  <div class="col-xs-6 col-sm-3"></div>
</div>
</div>
</body>
</html>
